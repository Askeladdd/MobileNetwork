
Приложение, управляющее балансом абонентов мобильной телефонной сети. В отдельном файле должна храниться информация об абонентах: телефонный номер абонента, баланс счета, тарифный план. В отдельном файле находятся данные о совершенных абонентом звонках, отосланных SMS-сообщениях и установленных соединений с сетью Интернет. Необходимо считать данные о совершенных операциях и рассчитать новый баланс абонента. Все номера записываются в формате XXXXX-YY-ZZZZZZZ, где XXXXX – код страны, YY – код оператора мобильной связи или код города в стационарной телефонной сети, ZZZZZZZ – сам телефонный номер абонента. Все телефонные звонки на номера, у которых первые 5 цифр отличны от 00375 тарифицируются как роуминг (считаем, что звонки доступны в любую страну по одинаковым тарифам). Все звонки на номера, начинающиеся с 00375-55, тарифицируются как внутрисетевые. Все звонки на номера, начинающиеся с 00375-25, 00375-29, 00375-33, 00375-44, тарифицируются как звонки в другие мобильные сети. Остальные номера тарифицируются как звонки на стационарную сеть. В приложении реализовать поддержку следующих тарифных планов (все тарифные планы не имеют абонентской платы):

«план А», звонки на номера из этой же сети 25 руб./мин., звонки другим мобильным операторам 125 руб./мин., звонки на стационарную сеть 95 руб./мин., роуминг 2500 руб./мин., тарификация по 10 сек., SMS 150 руб., SMS в роуминге 1500 руб., Интернет 3000 руб./час.
«план Б», звонки на номера из этой же сети 5 руб./мин. (первая минута) и 50 руб./мин. (последующие), звонки другим мобильным операторам 75 руб./мин. (первая минута) и 500 руб./мин. (последующие), звонки на стационарную сеть 50 руб./мин. (первая минута) и 250 руб./мин. (последующие), роуминг 5000 руб./мин., тарификация по 10 сек., тарификация при роуминге по 1 мин., SMS 150 руб., SMS в роуминге 1000 руб., Интернет 1000 руб./Мб за первых 50 Мб и 1250 руб./Мб за все последующие.
«план В», звонки на номера из этой же сети 100 руб./мин. (первая минута) и 5 руб./мин. (последующие), звонки другим мобильным операторам 100 руб./мин. (первая минута) и 25 руб./мин. (последующие), звонки на стационарную сеть 100 руб./мин. (первая минута) и 25 руб./мин. (последующие), роуминг 1000 руб./мин., тарификация по 1 мин., SMS 150 руб., SMS в роуминге 150 руб., Интернет 1000 руб./Мб за первых 50 Мб и 1250 руб./Мб за все последующие.
«план Г», звонки на номера из этой же сети 500 руб./мин. (первая минута) и 100 руб./мин. (последующие), звонки другим мобильным операторам 500 руб./мин. (первая минута) и 100 руб./мин. (последующие), звонки на стационарную сеть 500 руб./мин. (первая минута) и 100 руб./мин. (последующие), роуминг 500 руб./мин., тарификация по 10 сек., SMS 150 руб., SMS в роуминге 5000 руб., Интернет 500 руб./Мб за первых 100 Мб, 1000 руб./Мб при трафике от 100 Мб до 500 Мб, 5000 руб./Мб за все последующие.
Структура приложения должна соответствовать принципу инверсии зависимостей.

Примечание:

В файле со звонками, SMS и подключению к сети Интернет должны быть только сведения о том, кто и куда позвонил (отправил SMS), дата и время начала звонка (подключения к сети Интернет), дата и время окончания звонка (подключения к сети Интернет), объем переданных данных. Тарификация (учет стоимости операции) выполняет приложение в зависимости от тарифного плана вызывающего абонента. При этом структура приложения должна позволять легко добавлять новый тарифный план. Также должна быть возможность относительно легко добавить новую услугу (отправка MMS, выполнение платного USSD запроса и т.д.).

